import socket
import pyfiglet
import datetime
from termcolor import colored

ascii_banner = pyfiglet.figlet_format("PORT SCANNER")
print(ascii_banner)

host = input(f"\n[+] Introduce la IP a escanear: ")

hora = datetime.datetime.today()

# Add Banner 
print("-" * 50)
print(f"\n[+] Scanning Target: {host}")
print(f"\n[+] Scanning started at: {hora}\n")
print("-" * 50)

def create_socket():
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.settimeout(1)
    return s

def port_scanner(port, s):
    
    try:
        s.connect((host,port))
        print(colored(f"\n[+] El puerto {port} est√° abierto\n", 'green'))
        s.close()
        
    except (socket.timeout, ConnectionRefusedError):
        s.close()

def main():
    for port in range(1, 1000):
        s = create_socket()
        port_scanner(port,s)

if __name__ == '__main__':
    main()